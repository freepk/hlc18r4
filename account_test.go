package main

import (
	"bytes"
	"testing"
)

var testAccount = []byte(`{"premium":{"finish":1569783897,"start":1538247897},"birth":692070602,
	"likes":[{"id":1066502,"ts":1457224588},{"id":78150,"ts":1510460183},{"id":853672,"ts":1515150863},
	{"id":733556,"ts":1481890895},{"id":856740,"ts":1487805837},{"id":1047142,"ts":1458068896},{"id":629144,"ts":1497234539},
	{"id":300826,"ts":1487754288},{"id":452932,"ts":1461098717},{"id":1195182,"ts":1530979034},{"id":30712,"ts":1461763696},
	{"id":454620,"ts":1481582929},{"id":407760,"ts":1529800373},{"id":371160,"ts":1501625150},{"id":241380,"ts":1534382164},
	{"id":803700,"ts":1519479388},{"id":685966,"ts":1486322921},{"id":705718,"ts":1520958917},{"id":626422,"ts":1510751192},
	{"id":804108,"ts":1493807254},{"id":129572,"ts":1497212902},{"id":778756,"ts":1510678372},{"id":773756,"ts":1532030052},
	{"id":492876,"ts":1502403536},{"id":142110,"ts":1519654549},{"id":1160208,"ts":1492142179},{"id":102868,"ts":1488957199},
	{"id":684186,"ts":1489454147},{"id":234630,"ts":1535043000},{"id":973762,"ts":1458619587},{"id":172290,"ts":1486412904},
	{"id":559182,"ts":1521790424},{"id":1181378,"ts":1495685605},{"id":1213814,"ts":1476655968},{"id":664086,"ts":1501684354},
	{"id":1270304,"ts":1517398037},{"id":804610,"ts":1525566197},{"id":593016,"ts":1504872249},{"id":239696,"ts":1535239086},
	{"id":579844,"ts":1525424588},{"id":986152,"ts":1494908263},{"id":799462,"ts":1468367050},{"id":519462,"ts":1470576898},
	{"id":824660,"ts":1453419877},{"id":738136,"ts":1488428182},{"id":683884,"ts":1468286120},{"id":218188,"ts":1506629719},
	{"id":1008478,"ts":1533144960},{"id":1090292,"ts":1515672077},{"id":1230224,"ts":1526088509},{"id":298636,"ts":1522805966},
	{"id":540050,"ts":1532083398},{"id":1200456,"ts":1455636126},{"id":342036,"ts":1467363135},{"id":810644,"ts":1515156323}],
	"sex":"m","status":"\u0441\u0432\u043e\u0431\u043e\u0434\u043d\u044b","country":"\u0424\u0438\u043d\u043c\u0430\u043b\u044c",
	"interests":["\u0420\u0435\u0433\u0433\u0438","\u041f\u0430\u0441\u0442\u0430","\u0414\u0440\u0443\u0437\u044c\u044f"],
	"joined":1342828800,"city":"\u041a\u0440\u043e\u043d\u043e\u0433\u043e\u0440\u0441\u043a","email":"hiteher@inbox.ru"}`)

func TestAccountParse(t *testing.T) {
	parseAccount(testAccount)
}

func BenchmarkAccountParse(b *testing.B) {
	for i := 0; i < b.N; i++ {
		parseAccount(testAccount)
	}
}

func BenchmarkCmpString(b *testing.B) {
	s := string([]byte(`premium`))
	p := []byte(`premium`)
	for i := 0; i < b.N; i++ {
		if s == string(p) {
		}
	}
}

func BenchmarkCmpBytes(b *testing.B) {
	a := []byte(`premium`)
	p := []byte(`premium`)
	for i := 0; i < b.N; i++ {
		if bytes.Equal(a, p) {
		}
	}
}
